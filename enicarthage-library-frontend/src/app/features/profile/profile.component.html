<div class="user-container">
  <h1>User Portal</h1>

  <div class="tabs">
    <div class="tab" [class.active]="activeTab==='books'" (click)="showTab('books')">Book Reservations</div>
    <div class="tab" [class.active]="activeTab==='events'" (click)="showTab('events')">Upcoming Events</div>
  </div>

  <div class="user-section" *ngIf="activeTab==='books'">
    <h2>Reserve a Book</h2>
    <div class="loading" *ngIf="isLoadingBooks"><div class="loading-spinner">Loading...</div></div>
    <table class="books-table" *ngIf="!isLoadingBooks">
      <thead>
        <tr>
          <th>Title</th>
          <th>Author</th>
          <th>Status</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let b of availableBooks">
          <td>{{ b.title }}</td>
          <td>{{ b.author }}</td>
          <td><span class="book-status available">Available</span></td>
          <td><button class="action-button reserve">Reserve</button></td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="user-section" *ngIf="activeTab==='events'">
    <h2>Upcoming Events</h2>
    <div class="loading" *ngIf="isLoadingEvents"><div class="loading-spinner">Loading...</div></div>
    <table class="events-table" *ngIf="!isLoadingEvents">
      <thead>
        <tr>
          <th>Event Name</th>
          <th>Date</th>
          <th>Location</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let ev of upcomingEvents">
          <td>{{ ev.name }}</td>
          <td>{{ ev.startDate | date:'yyyy-MM-dd' }}</td>
          <td>{{ ev.location || '-' }}</td>
          <td><span class="event-status upcoming">Upcoming</span></td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
